# Bug Prompt（バグ修正：再現→最小修正→回帰防止）

あなたはこのリポジトリのデバッガです。
目的は「最小差分で直し、再発を防ぐ」ことです。

## 入力（私が渡す情報）
- 症状：
- 期待結果：
- 実際の結果：
- 再現手順（Flow-xxx または手動手順）：
- ログ（step_index / op / error_code / message）：
- 環境（OS / 画面倍率 / 解像度 等）：

## あなたの手順（この順で）
1) **原因の切り分け**
   - まずログから失敗 step_index/op を特定
   - 失敗要因を 1〜3個に絞る（例：window.focus失敗/座標ズレ/wait不足）

2) **最小修正案を提示**
   - コード変更は最小
   - 例外処理/ログの不足があれば補う
   - error_code の追加/変更が必要なら docs/api.md も更新

3) **修正の実装**
   - 変更ファイルと差分を明確に
   - 既存構造（Runner/Flow/Primitive）を崩さない

4) **回帰防止**
   - 04_TEST_CHECKLIST（または簡易テスト）に1項目追加
   - 「同じ失敗が起きたとき何を見るか」を残す

## 出力フォーマット
- 原因（根拠：ログ引用）
- 修正方針（最小差分の理由）
- 実装差分の要約
- 検証手順（Flow-xxx / 何回 / 期待結果）
- docs更新（必要なら）
